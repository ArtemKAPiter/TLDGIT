<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>TowerOfMagic</title>
        <style type="text/css">
            html, body {
				background: #c7b39b url(Background_Tower_of_Magic300by90.png);
				background-size: 30%;
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none

            }
			@font-face {
				font-family: 'font1';
				src: url('Fonts/font-0024.ttf');
			}
			.text_scale{
				width: 100px;
				transform: scale(1,1);
				transform-origin: left;
				font-size:80px;
				font-family: font1;
				color: #00ff33;
			}
            #loading {
				position: absolute;
                width: 90%;
                height: 90%;
				left: 5%;
				top: -65px;
				text-align:  center;

				font-size:80px;
				font-family: font1;
				color: #f0f0f0;

				text-shadow: #fff -1px -1px 0, 
                 #333 1px 1px 0;
                z-index: 10;
                display: flex;
				align-items: flex-end;
				justify-content: center;
				
				
            }
			#loadingInfo {
				position: absolute;
                width: 300px;
                height: 90%;
				left: 50%;
				margin-left: -150px;
				
				top: 15px;
				text-align:  center;
                
				font-size:48px;
				font-family: font1;
				line-height:36px;
				color: #f0f0f0;

				text-shadow: #fff -1px -1px 0, 
                 #333 1px 1px 0;
                z-index: 10;
                display: flex;
				align-items: flex-end;
				justify-content: center;
            }
			.block {
				position: absolute;
	

				width: 450px;
				height: 100%;

				top: 50%;
				left: 50%;
				margin-right: -50%;
				transform: translate(-50%, -50%);
				z-index: 1;
				


			}
			.blockIMG {
				position: absolute;
	

				width: 450px;
				height: 100%;

				top: 50%;
				left: 50%;
				margin-right: -50%;
				transform: translate(-50%, -50%);
				z-index: 0
			}
        </style>
    </head>
	<body>
        <canvas class=block id="unity-canvas"></canvas>
        <div id="loading"><span id="loading-text"></span></div>		

		<div id="loadingInfo"></div>

        <script src="./instant-games-bridge.js"></script>
		<script src="./dist/iife/spine-webgl.js"></script>
		<script src="Build/New.loader.js"></script>
		<img class=blockIMG id="loading-canvas" src="./Screenshot_6.png" align=”middle”>
		<canvas class=block id="cnv" width="550" height="920">Browser Not Supported :(</canvas>
          
		<script>
		
		var canvasSpine = document.getElementById('cnv');
		
		canvasSpine.style.width  = '100%';
canvasSpine.style.height = '100%';
          
          
          
          
canvasSpine.width = canvasSpine.clientWidth; 
      canvasSpine.height = canvasSpine.clientHeight;
      var context = new spine.ManagedWebGLRenderingContext(canvasSpine);
      var assetManager = new spine.AssetManager(context, "./data/corgi/");
      var renderer = new spine.SceneRenderer(canvasSpine, context);
      var time = new spine.TimeKeeper();
      var loadingScreen = new spine.LoadingScreen(new spine.SceneRenderer(canvasSpine, context));

      var skeleton = null;
      var animationState = null;

      assetManager.loadText("sky.json");
      assetManager.loadTextureAtlas("sky.atlas");

      requestAnimationFrame(load);

      function load() {
        if (assetManager.isLoadingComplete()) {
          var atlas = assetManager.get("sky.atlas");
          var skeletonJson = new spine.SkeletonJson(new spine.AtlasAttachmentLoader(atlas));
          var skeletonData = skeletonJson.readSkeletonData(assetManager.get("sky.json"));
          var animationStateData = new spine.AnimationStateData(skeletonData);
          animationStateData.defaultMix = 0.3;

          skeleton = new spine.Skeleton(skeletonData);
          animationState = new spine.AnimationState(animationStateData);
          var offset = new spine.Vector2();
          var size = new spine.Vector2();
          skeleton.updateWorldTransform();
          skeleton.getBounds(offset, size, []);
          renderer.camera.position.x = offset.x + size.x / 2;
          renderer.camera.position.y = offset.y + size.y / 2 - 100;
          if (window.innerWidth > window.innerHeight) // десктоп
          {
            renderer.camera.zoom = (size.x > size.y ? size.x / canvas.width : size.y / canvas.height) * 0.45;
          }else{
            renderer.camera.zoom = (size.x > size.y ? size.x / canvas.width : size.y / canvas.height) * 0.75;
          }

          animationState.setAnimation(0, "animation", true);
          /*animationState.addAnimation(0, "animation", true, 1);
          animationState.addAnimation(0, "animation", true, 3);*/

          requestAnimationFrame(render);
        } else {
          loadingScreen.draw(false);
          requestAnimationFrame(load);
        }
      }
     

      function render() {
        context.gl.clearColor(0.9, 0.9, 0.9, 1);
        //context.gl.clear(context.gl.COLOR_BUFFER_BIT);
        //context.clearRect(0, 0, canvasSpine.width,canvasSpine.height);

        time.update();
        animationState.update(time.delta);
        animationState.apply(skeleton);
        skeleton.updateWorldTransform();

        renderer.begin();
        renderer.drawSkeleton(skeleton, true);
        renderer.end();

        loadingScreen.draw(true);

        requestAnimationFrame(render);
      }
	  </script>

	

         <head>
    <link rel="stylesheet" type="text/css" href="./instant-games-bridge-vk-banner-extension.css">
</head>
<body></body>
<script src="./instant-games-bridge-vk-banner-extension.js"></script>
<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    
		
		
        <script>
            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                let meta = document.createElement('meta')
                meta.name = 'viewport'
                meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes'
                document.getElementsByTagName('head')[0].appendChild(meta)
            }

    let loadingOver = document.getElementById('loading-overlay')
    
			
            let loadingOverlay = document.getElementById('loading-overlay')
            let progressBarFill = document.getElementById('progress-bar-fill')
			
			
			

			

            const STORAGE_DATA_SEPARATOR = '{bridge_data_separator}'
            const STORAGE_KEYS_SEPARATOR = '{bridge_keys_separator}'
            const STORAGE_VALUES_SEPARATOR = '{bridge_values_separator}'
            
            // utils
            window.unityInstance = null
            let progressBarFillingInterval = null

            function sendMessageToUnity(name, value) {
                if (window.unityInstance !== null) {
                    window.unityInstance.SendMessage('Bridge', name, value)
                }
            }
                

            function onUnityLoadingProgressChanged(progress) {
                if (progress === 0.9) {
                    completeProgressBarFilling()
                    return
                }

                progressBarFill.style.width = `${ progress * 100 }%`
                if (progress === 1 && progressBarFillingInterval !== null) {
                    clearInterval(progressBarFillingInterval)
                    progressBarFillingInterval = null
                }
            }
            
            function completeProgressBarFilling() {
                if (progressBarFillingInterval !== null) {
                    return
                }

                let currentPercent = 90
                progressBarFill.style.width = `${ currentPercent }%`
                progressBarFillingInterval = setInterval(() => {
                    currentPercent++
                    if (currentPercent > 100) {
                        currentPercent = 100
                    }

                    progressBarFill.style.width = `${ currentPercent + 1 }%`

                    if (currentPercent >= 100) {
                        clearInterval(progressBarFillingInterval)
                        progressBarFillingInterval = null
                        return
                    }
                }, 100)
            }

            window.addEventListener('pointerdown', () => {
                window.focus()
                canvas.focus()
            })

            // initialization
            bridge
                .initialize()
                .then(() => {
                    bridge.advertisement.on('interstitial_state_changed', state => sendMessageToUnity('OnInterstitialStateChanged', state))
                    bridge.advertisement.on('rewarded_state_changed', state => sendMessageToUnity('OnRewardedStateChanged', state))
                    bridge.game.on('visibility_state_changed', state => sendMessageToUnity('OnVisibilityStateChanged', state))

                    let unityLoader = document.createElement('script')
                    unityLoader.src = 'Build/New.loader.js'
					
					var myGameInstance = null;

                    unityLoader.onload = () => {
                        createUnityInstance(
                            canvas,
                            {
                                dataUrl: 'Build/New.data',
                                frameworkUrl: 'Build/New.framework.js',
                                codeUrl: 'Build/New.wasm',
                                streamingAssetsUrl: 'StreamingAssets',
                                companyName: 'ReallShin',
                                productName: 'TowerOfMagic',
                                productVersion: '1.19',
                                // matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
                                // devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
                            },
                            onUnityLoadingProgressChanged)
                            .then((unityInstance) => {
                                window.unityInstance = unityInstance
								myGameInstance = unityInstance;

                                loadingOverlay.remove()
								
								LoadVKBridge();
								
                                canvas.focus()
                            })
                            .catch((error) => {
                                console.error(error)
                            })
                    }
                    document.body.appendChild(unityLoader)
                })
                .catch(error => console.error(error))
            

function LoadVKBridge(){
      vkBridge.send('VKWebAppInit')
  .then((data) => { 
    if (data.result) {
     console.log("Good");
    } else {
      console.log("error");
    }
  })
  .catch((error) => {
console.log("error 23");
    console.log(error);
  });
}
		


		
		function LoadVkBanner()
		{
vkBridge
        .send('VKWebAppInit')
        .then(() => {

            // show banner
            vkBridge
                .send('VKWebAppGetAds')
                .then(data => {
                    let position = 'bottom' // Supported values: top, bottom. Default: bottom.
                    bridgeExtensions.vk.banner.show(data, position)
					
					document.getElementById("vk-banner-container").style.zoom = "0.5";
					canvas.style.height = '93%';
					alert(document.getElementById("vk-banner-container").clientHeight);             
})
        })
        }
		
		function HorizontalLoadVk()
		{
vkBridge
        .send('VKWebAppInit')
        .then(() => {

            // show banner
            vkBridge
                .send('VKWebAppGetAds')
                .then(data => {
                    let position = 'bottom' // Supported values: top, bottom. Default: bottom.
                    bridgeExtensions.vk.banner.show(data, position)
					
					document.getElementById("vk-banner-container").style.zoom = "0.5";
					canvas.style.height = '85%';
					alert(document.getElementById("vk-banner-container").clientHeight);             
})
        })
        }
		

						

		
		
		function HideVkBanner(){
            vkBridge
        .send('VKWebAppInit')
        .then(() => {

            // show banner
            vkBridge
                .send('VKWebAppGetAds')
                .then(data => {
                                bridgeExtensions.vk.banner.hide()
								console.log('Баннера нету.', data) 
								canvas.style.width  = '100%'
					            canvas.style.height = '100%';
                })
        })
        }
		
      

		
			 
		function GetItem10(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_10', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity10();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
            
function GetItem15(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_15', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity15();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
	  
	  function GetItem25(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_25', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity25();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
	  
	  
	  function GetItem45(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_45', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity45();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
	  
	  
	  function GetItem80(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_80', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity80();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
	  
	  
	  function GetItem140(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_140', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageToUnity140();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
	  
	  
	  function GetItemNoAds(){ 
vkBridge.send('VKWebAppShowOrderBox', 
  { 
    type: 'item', 
    item: 'sale_item_noAds', 
  })
  .then( (data) => {
	  console.log('Покупка состоялась.', data) 
	  SendMessageGetItemNoAds();
	  }) 
  .catch( (e) => {console.log('Ошибка!', e) });
      }
			
			   
			


			 function SendMessageToUnity10(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney10');
      }
			
			 function SendMessageToUnity15(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney15');
      }   
	  
	  function SendMessageToUnity25(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney25');
      }
	  
	  function SendMessageToUnity45(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney45');
      }
	  
	  function SendMessageToUnity80(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney80');
      }
	  
	  function SendMessageToUnity140(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'GetMoney140');
      }
	  
	  function SendMessageGetItemNoAds(){ 
         unityInstance.SendMessage('BuyMoneyVK', 'NoAds');
      }


            // platform
            window.getPlatformId = function() {
                return bridge.platform.id
            }

            window.getPlatformLanguage = function() {
                return bridge.platform.language
            }

            window.getPlatformPayload = function() {
                let payload = bridge.platform.payload
                if (typeof payload === 'string') {
                    return payload
                } else {
                    return ''
                }
            }


            // device
            window.getDeviceType = function() {
                return bridge.device.type
            }


            // player
            window.getIsPlayerAuthorizationSupported = function() {
                return bridge.player.isAuthorizationSupported.toString()
            }

            window.getIsPlayerAuthorized = function() {
                return bridge.player.isAuthorized.toString()
            }

            window.getPlayerId = function() {
                if (bridge.player.id) {
                    return bridge.player.id.toString()
                }

                return ''
            }

            window.getPlayerName = function() {
                if (bridge.player.name) {
                    return bridge.player.name.toString()
                }

                return ''
            }

            window.getPlayerPhotos = function() {
                if (bridge.player.photos.length > 0) {
                    return JSON.stringify(bridge.player.photos)
                }

                return ''
            }

            window.authorizePlayer = function(options) {
                bridge.player.authorize(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnAuthorizeCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnAuthorizeCompleted', 'false')
                    })
            }


            // game
            window.getVisibilityState = function() {
                return bridge.game.visibilityState
            }


            // storage
            window.getStorageDefaultType = function() {
                return bridge.storage.defaultType
            }

            window.getIsStorageSupported = function(storageType) {
                return bridge.storage.isSupported(storageType).toString()
            }

            window.getStorageData = function(key, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)

                bridge.storage.get(keys, storageType)
                    .then(data => {
                        if (keys.length > 1) {
                            let values = []

                            for (let i = 0; i < keys.length; i++) {
                                let value = data[i]
                                if (value) {
                                    if (typeof value !== 'string') {
                                        value = JSON.stringify(value)
                                    }

                                    values.push(value)
                                } else {
                                    values.push('')
                                }
                            }

                            sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${values.join(STORAGE_VALUES_SEPARATOR)}`)
                        } else {
                            if (data[0]) {
                                if (typeof data[0] !== 'string') {
                                    data = JSON.stringify(data[0])
                                }
                            } else {
                                data = ''
                            }

                            sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${data}`)
                        }
                    })
                    .catch(error => {
                        sendMessageToUnity('OnGetStorageDataFailed', key)
                    })
            }

            window.setStorageData = function(key, value, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)
                let values = value.split(STORAGE_VALUES_SEPARATOR)

                bridge.storage.set(keys, values, storageType)
                    .then(() => {
                        sendMessageToUnity('OnSetStorageDataSuccess', key)
                    })
                    .catch(error => {
                        sendMessageToUnity('OnSetStorageDataFailed', key)
                    })
            }

            window.deleteStorageData = function(key, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)

                bridge.storage.delete(keys, storageType)
                    .then(() => {
                        sendMessageToUnity('OnDeleteStorageDataSuccess', key)
                    })
                    .catch(error => {
                        sendMessageToUnity('OnDeleteStorageDataFailed', key)
                    })
            }


            // advertisement
            window.getIsBannerSupported = function() {
                return bridge.advertisement.isBannerSupported.toString()
            }

            window.getIsBannerShowing = function() {
                return bridge.advertisement.isBannerShowing.toString()
            }
            
            window.getMinimumDelayBetweenInterstitial = function() {
                return bridge.advertisement.minimumDelayBetweenInterstitial.toString()
            }

            window.setMinimumDelayBetweenInterstitial = function(options) {
                bridge.advertisement.setMinimumDelayBetweenInterstitial(JSON.parse(options))
            }

            window.showBanner = function(options) {
                bridge.advertisement.showBanner(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnShowBannerCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnShowBannerCompleted', 'false')
                    })
            }

            window.hideBanner = function() {
                bridge.advertisement.hideBanner()
                    .then(() => {
                        sendMessageToUnity('OnHideBannerCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnHideBannerCompleted', 'false')
                    })
            }

            window.showInterstitial = function(options) {
                bridge.advertisement.showInterstitial(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnShowInterstitialCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnShowInterstitialCompleted', 'false')
                    })
            }

            window.showRewarded = function() {
                bridge.advertisement.showRewarded()
                    .then(() => {
                        sendMessageToUnity('OnShowRewardedCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnShowRewardedCompleted', 'false')
                    })
            }


            // social
            window.getIsShareSupported = function() {
                return bridge.social.isShareSupported.toString()
            }

            window.getIsInviteFriendsSupported = function() {
                return bridge.social.isInviteFriendsSupported.toString()
            }

            window.getIsJoinCommunitySupported = function() {
                return bridge.social.isJoinCommunitySupported.toString()
            }

            window.getIsCreatePostSupported = function() {
                return bridge.social.isCreatePostSupported.toString()
            }

            window.getIsAddToHomeScreenSupported = function() {
                return bridge.social.isAddToHomeScreenSupported.toString()
            }

            window.getIsAddToFavoritesSupported = function() {
                return bridge.social.isAddToFavoritesSupported.toString()
            }

            window.getIsRateSupported = function() {
                return bridge.social.isRateSupported.toString()
            }

            window.share = function(options) {
                bridge.social.share(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnShareCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnShareCompleted', 'false')
                    })
            }

            window.inviteFriends = function() {
                bridge.social.inviteFriends()
                    .then(() => {
                        sendMessageToUnity('OnInviteFriendsCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnInviteFriendsCompleted', 'false')
                    })
            }

            window.joinCommunity = function(options) {
                bridge.social.joinCommunity(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnJoinCommunityCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnJoinCommunityCompleted', 'false')
                    })
            }

            window.createPost = function(options) {
                bridge.social.createPost(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnCreatePostCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnCreatePostCompleted', 'false')
                    })
            }

            window.addToHomeScreen = function() {
                bridge.social.addToHomeScreen()
                    .then(() => {
                        sendMessageToUnity('OnAddToHomeScreenCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnAddToHomeScreenCompleted', 'false')
                    })
            }

            window.addToFavorites = function() {
                bridge.social.addToFavorites()
                    .then(() => {
                        sendMessageToUnity('OnAddToFavoritesCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnAddToFavoritesCompleted', 'false')
                    })
            }

            window.rate = function() {
                bridge.social.rate()
                    .then(() => {
                        sendMessageToUnity('OnRateCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnRateCompleted', 'false')
                    })
            }


            // leaderboard
            window.getIsLeaderboardSupported = function() {
                return bridge.leaderboard.isSupported.toString()
            }

            window.getIsLeaderboardNativePopupSupported = function() {
                return bridge.leaderboard.isNativePopupSupported.toString()
            }

            window.getIsLeaderboardMultipleBoardsSupported = function() {
                return bridge.leaderboard.isMultipleBoardsSupported.toString()
            }

            window.getIsLeaderboardSetScoreSupported = function() {
                return bridge.leaderboard.isSetScoreSupported.toString()
            }

            window.getIsLeaderboardGetScoreSupported = function() {
                return bridge.leaderboard.isGetScoreSupported.toString()
            }

            window.getIsLeaderboardGetEntriesSupported = function() {
                return bridge.leaderboard.isGetEntriesSupported.toString()
            }

            window.leaderboardSetScore = function(options) {
                bridge.leaderboard.setScore(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnLeaderboardSetScoreCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnLeaderboardSetScoreCompleted', 'false')
                    })
            }

            window.leaderboardGetScore = function(options) {
                bridge.leaderboard.getScore(JSON.parse(options))
                    .then(data => {
                        if (data) {
                            if (typeof data !== 'string') {
                                data = JSON.stringify(data)
                            }

                            sendMessageToUnity('OnLeaderboardGetScoreCompleted', data)
                        } else {
                            sendMessageToUnity('OnLeaderboardGetScoreCompleted', '')
                        }
                    })
                    .catch(error => {
                        sendMessageToUnity('OnLeaderboardGetScoreCompleted', 'false')
                    })
            }

            window.leaderboardGetEntries = function(options) {
                bridge.leaderboard.getEntries(JSON.parse(options))
                    .then(data => {
                        if (data) {
                            if (typeof data !== 'string') {
                                data = JSON.stringify(data)
                            }

                            sendMessageToUnity('OnLeaderboardGetEntriesCompletedSuccess', data)
                        } else {
                            sendMessageToUnity('OnLeaderboardGetEntriesCompletedSuccess', '')
                        }
                    })
                    .catch(error => {
                        sendMessageToUnity('OnLeaderboardGetEntriesCompletedFailed', 'false')
                    })
            }

            window.leaderboardShowNativePopup = function(options) {
                bridge.leaderboard.showNativePopup(JSON.parse(options))
                    .then(() => {
                        sendMessageToUnity('OnLeaderboardShowNativePopupCompleted', 'true')
                    })
                    .catch(error => {
                        sendMessageToUnity('OnLeaderboardShowNativePopupCompleted', 'false')
                    })
            }
        </script>
    </body>
</html>
